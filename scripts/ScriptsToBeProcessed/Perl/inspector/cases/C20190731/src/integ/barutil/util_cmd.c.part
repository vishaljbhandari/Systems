        // Receive data
        if (size > bufsize)
            buf = REALLOC(buf, bufsize = size*2);

        if (IpcReceiveData(h, buf, size) != size)
